<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=0, maximum-scale=10"><meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1'><title>ひろぽっぽれす - hiropopless - いくらが大好きです。Webの開発やってます。</title><link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml"/><link href='//fonts.googleapis.com/css?family=Raleway' rel='stylesheet'><link href="/css/hiropopless.css" rel="stylesheet"><meta property="og:type" content="article"><meta property="og:description" content="いくらが大好きです。Webの開発やってます。"><meta property="og:site_name" content="ひろぽっぽれす"><meta property="og:title" content="ひろぽっぽれす"><meta property="og:url" content="http://hiropo.co.uk"></head><body><header class="header"><h1 class="hero-site"><a href="//hiropo.co.uk">ひろぽっぽれす - hiropopless</a></h1><p class="description-site">いくらが大好きです。Webの開発やってます。</p><ul class="follow-links"><li><a href="https://twitter.com/funnythingz" class="twitter-follow-button" data-show-count="false">Follow @funnythingz</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script></li><li><iframe src="//ghbtns.com/github-btn.html?user=funnythingz&type=follow&count=false" allowtransparency="true" frameborder="0" scrolling="0" width="165" height="20"></iframe></li></ul><figure class="figure-profile"><img src="/imgs/archives/2013/08/6S6A7152_12.jpg"></figure></header><section id="main" class="content" role="main"><section class="entries"><p class="page-number">Page 4 of 19</p><ul class="pagenations"><li class="old-page"><a href="/page/5/">Old entry</a></li><li class="new-page"><a href="/page/3/">New entry</a></li></ul><article class="entry"><h2><a href="/archives/886.html">HTMLとCSSで二次元配列でドット絵 (Hex Color Codes)</a></h2><ul><li class="date"> 2012.02.06 </li></ul><ul class="external-link"><li><a href="//b.hatena.ne.jp/entry/http://hiropo.co.uk/archives/886.html" class="hatena-bookmark-button" data-hatena-bookmark-title="HTMLとCSSで二次元配列でドット絵 (Hex Color Codes)" data-hatena-bookmark-layout="standard-balloon" data-hatena-bookmark-lang="ja" title="このエントリーをはてなブックマークに追加"><img src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;"/></a><script src="https://b.st-hatena.com/js/bookmark_button.js" charset="utf-8" async="async"></script></li><li><div class="fb-like" data-href="//hiropo.co.uk/archives/886.html" data-layout="button_count" data-action="like" data-show-faces="false" data-share="true"></div><div id="fb-root"></div><script>(function(d, s, id) {
          var js, fjs = d.getElementsByTagName(s)[0];
          if (d.getElementById(id)) return;
          js = d.createElement(s); js.id = id;
          js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&appId=1386417958332605&version=v2.0";
          fjs.parentNode.insertBefore(js, fjs);
          }(document, 'script', 'facebook-jssdk'));</script></li><li><a class="twitter-share-button" href="https://twitter.com/share" data-url="http://hiropo.co.uk/archives/886.html" data-via="funnythingz" data-text="HTMLとCSSで二次元配列でドット絵 (Hex Color Codes)"> Tweet </a><script>
        window.twttr=(function(d,s,id){var t,js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return}js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);return window.twttr||(t={_e:[],ready:function(f){t._e.push(f)}})}(document,"script","twitter-wjs"));
        </script></li></ul><p>これからcanvas盛り上がっていくという中、あえてHTMLタグとCSSを使ったドット絵を描いてみました。 jsdoitに投稿したものなのでちょい古いですけど紹介します。</p><p>といっても仕組みは簡単で、描画するデータ情報を二次元配列にもっておいて、それを&lt;li&gt;タグでfloatで並べて描画するというもの。描画のロジックはJavaScriptで実装しました。 描画するターゲットがcanvasか、HTMLタグかの違いだけなので仕組みはとってもシンプルです。</p><p>こちらが完成図です。 <script src="//jsdo.it/blogparts/etba/js?view=design"></script><p class="ttlBpJsdoit" style="width: 465px; margin: 0; text-align: right; font-size: 11px;"><a title="二次元配列でドット絵 (Hex Color Codes) - jsdo.it - share JavaScript, HTML5 and CSS" href="//jsdo.it/funnythingz/etba">二次元配列でドット絵 (Hex Color Codes) - jsdo.it - share JavaScript, HTML5 and CSS</a></p></p><p>描画データとなる二次元配列マップにHexカラー値を直接書いて渡しているため、このように色は自由に指定できます。</p><p>さて、ソースコードの紹介になります。</p><h3>【1】描画するHTML側でステージ的なものを用意します。</h3><pre class="highlight html"><code><span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">"group tstList"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;li</span> <span class="na">id=</span><span class="s">"stage"</span><span class="nt">&gt;</span>

</code></pre><h3>【2】CSSで見た目を制御します。</h3><pre class="highlight css"><code><span class="o">*</span> <span class="p">{</span>
    <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
        <span class="nl">padding</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.box</span> <span class="p">{</span>
        <span class="nl">width</span><span class="p">:</span> <span class="m">10px</span><span class="p">;</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">10px</span><span class="p">;</span>
    <span class="nl">overflow</span><span class="p">:</span> <span class="nb">hidden</span><span class="p">;</span>
    <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span><span class="p">;</span>
    <span class="nl">float</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.wrap</span><span class="nd">:after</span><span class="o">,</span>
<span class="nc">.box</span><span class="nd">:after</span> <span class="p">{</span>
    <span class="nl">content</span><span class="p">:</span> <span class="s1">"."</span><span class="p">;</span>
    <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span><span class="p">;</span>
    <span class="nl">clear</span><span class="p">:</span> <span class="nb">both</span><span class="p">;</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="nl">visibility</span><span class="p">:</span> <span class="nb">hidden</span><span class="p">;</span>
    <span class="nl">font-size</span><span class="p">:</span> <span class="m">0.1em</span><span class="p">;</span>
    <span class="nl">line-height</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.wrap</span><span class="o">,</span>
<span class="nc">.group</span> <span class="p">{</span>
    <span class="py">zoom</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.tstList</span> <span class="p">{</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">240px</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.tstList</span> <span class="nt">li</span> <span class="p">{</span>
    <span class="nl">float</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span>
        <span class="nl">list-style</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><h3>【3】描画データを二次元配列で用意します。値にはHexカラー値を文字列でもちます。</h3><pre class="highlight plaintext"><code>/*-------------------------------------------------
* map
*/
var map = [
    ['ffffff','ffffff','ffffff','ffffff','ffffff','ffffff','ffffff','ffffff','ffffff','ffffff','ffffff','ffffff','ffffff','f5b199','f5b199','f5b199'],
    ['ffffff','ffffff','ffffff','ffffff','ffffff','ffffff','e10000','e10000','e10000','e10000','e10000','ffffff','ffffff','f5b199','f5b199','f5b199'],
    ['ffffff','ffffff','ffffff','ffffff','ffffff','e10000','e10000','e10000','e10000','e10000','e10000','e10000','e10000','e10000','f5b199','f5b199'],
    ['ffffff','ffffff','ffffff','ffffff','ffffff','FFFF00','FFFF00','FFFF00','f5b199','f5b199','000000','f5b199','ffffff','05299d','05299d','05299d'],
    ['ffffff','ffffff','ffffff','ffffff','FFFF00','f5b199','FFFF00','f5b199','f5b199','f5b199','000000','f5b199','f5b199','05299d','05299d','05299d'],
    ['ffffff','ffffff','ffffff','ffffff','FFFF00','f5b199','FFFF00','FFFF00','f5b199','f5b199','f5b199','000000','f5b199','f5b199','f5b199','05299d'],
    ['ffffff','ffffff','ffffff','ffffff','FFFF00','FFFF00','f5b199','f5b199','f5b199','f5b199','000000','000000','000000','000000','05299d','ffffff'],
    ['ffffff','ffffff','ffffff','ffffff','ffffff','ffffff','f5b199','f5b199','f5b199','f5b199','f5b199','f5b199','f5b199','05299d','ffffff','ffffff'],
    ['ffffff','ffffff','05299d','05299d','05299d','05299d','05299d','fb8a10','05299d','05299d','05299d','fb8a10','05299d','ffffff','ffffff','ffffff'],
    ['ffffff','05299d','05299d','05299d','05299d','05299d','05299d','05299d','fb8a10','05299d','05299d','05299d','fb8a10','ffffff','ffffff','05299d'],
    ['f5b199','f5b199','05299d','05299d','05299d','05299d','05299d','05299d','fb8a10','fb8a10','fb8a10','fb8a10','fb8a10','ffffff','ffffff','05299d'],
    ['f5b199','f5b199','f5b199','ffffff','fb8a10','fb8a10','05299d','fb8a10','fb8a10','EEEEEE','fb8a10','fb8a10','EEEEEE','fb8a10','05299d','05299d'],
    ['ffffff','f5b199','ffffff','05299d','fb8a10','fb8a10','fb8a10','fb8a10','fb8a10','fb8a10','fb8a10','fb8a10','fb8a10','fb8a10','05299d','05299d'],
    ['ffffff','ffffff','05299d','05299d','05299d','fb8a10','fb8a10','fb8a10','fb8a10','fb8a10','fb8a10','fb8a10','fb8a10','fb8a10','05299d','05299d'],
    ['ffffff','05299d','05299d','05299d','fb8a10','fb8a10','fb8a10','fb8a10','fb8a10','fb8a10','fb8a10','ffffff','ffffff','ffffff','ffffff','ffffff'],
    ['ffffff','05299d','ffffff','ffffff','fb8a10','fb8a10','fb8a10','fb8a10','ffffff','ffffff','ffffff','ffffff','ffffff','ffffff','ffffff','ffffff']
]
</code></pre><h3>【4】描画ロジックをJavaScriptで実装します。</h3><pre class="highlight plaintext"><code>/*-------------------------------------------------
* module
*/
var $ = function(id){
    return document.getElementById(id);
}
var $$ = function(id, tag){
    return document.getElementById(id).getElementsByTagName(tag);
}
var createElement = function(tag){
    return document.createElement(tag);
}

/*-------------------------------------------------
* Elements
*/

//Wrap
var Wrap = function(){
    return this.init();
}
Wrap.prototype = {
    init: function(){
        var div = createElement('div');
        div.setAttribute('class', 'wrap');
        div.innerHTML = '';
        return div;
    }
}

//Dot
var Dot = function(args){
    this.background = args.background;
    return this.init();
}
Dot.prototype = {
    init: function(){
        var span = createElement('span');
        span.style.background = "#" + this.background;
        span.setAttribute('class', 'box');
        span.innerHTML = '';
        return span;
    }
}

//Create
var Create = function(obj){
    var stage = obj;
    var wrap = [];
    for( var i = 0, L = map.length; i &lt; L; i++ ){
        wrap[i] = new Wrap();
        for( var j = 0, M = map[i].length; j &lt; M; j++ )
    {
        wrap[i].appendChild( new Dot({ background: map[i][j] }) );
        }
        stage.appendChild(wrap[i]);
    }
}

/*-------------------------------------------------
* initilize
*/
var init = function(){
    new Create( $('stage') );
}
window.addEventListener('load', init, false);
</code></pre><p>JavaScriptはライブラリは使っていません、ネイティブ実装です。 jQueryとか使えばもっと簡単に実装できると思います。</p><p>でもProcessing.js使う方が面白いのでcanvasに描画した方が良いんじゃないかなｗ</p></article><article class="entry"><h2><a href="/archives/882.html">Processing.js 8x8 ドットマトリックスLEDっぽいのつくってみた canvas</a></h2><ul><li class="date"> 2012.02.06 </li></ul><ul class="external-link"><li><a href="//b.hatena.ne.jp/entry/http://hiropo.co.uk/archives/882.html" class="hatena-bookmark-button" data-hatena-bookmark-title="Processing.js 8x8 ドットマトリックスLEDっぽいのつくってみた canvas" data-hatena-bookmark-layout="standard-balloon" data-hatena-bookmark-lang="ja" title="このエントリーをはてなブックマークに追加"><img src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;"/></a><script src="https://b.st-hatena.com/js/bookmark_button.js" charset="utf-8" async="async"></script></li><li><div class="fb-like" data-href="//hiropo.co.uk/archives/882.html" data-layout="button_count" data-action="like" data-show-faces="false" data-share="true"></div><div id="fb-root"></div><script>(function(d, s, id) {
          var js, fjs = d.getElementsByTagName(s)[0];
          if (d.getElementById(id)) return;
          js = d.createElement(s); js.id = id;
          js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&appId=1386417958332605&version=v2.0";
          fjs.parentNode.insertBefore(js, fjs);
          }(document, 'script', 'facebook-jssdk'));</script></li><li><a class="twitter-share-button" href="https://twitter.com/share" data-url="http://hiropo.co.uk/archives/882.html" data-via="funnythingz" data-text="Processing.js 8x8 ドットマトリックスLEDっぽいのつくってみた canvas"> Tweet </a><script>
        window.twttr=(function(d,s,id){var t,js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return}js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);return window.twttr||(t={_e:[],ready:function(f){t._e.push(f)}})}(document,"script","twitter-wjs"));
        </script></li></ul><p>canvasで使うライブラリはすっかりProcessing.jsに馴染んでしまった僕です、こんにちは。</p><p>Arduinoを使った8x8ドットマトリックスLEDの点滅をやりたいなと思い、そのシミュレーションとしてjsdoitでまずはcanvasに描画してみようと思いたちProcessing.jsで書いてみました。</p><pre class="highlight javascript"><code><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"application/processing"</span><span class="o">&gt;</span>
<span class="kr">int</span><span class="p">[][]</span> <span class="nx">p</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">},</span>
  <span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">},</span>
  <span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">},</span>
  <span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">},</span>
  <span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">},</span>
  <span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">},</span>
  <span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">},</span>
  <span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">}</span>
<span class="p">};</span>
<span class="k">void</span> <span class="nx">setup</span><span class="p">(){</span>
  <span class="nx">size</span><span class="p">(</span><span class="mi">81</span><span class="p">,</span> <span class="mi">81</span><span class="p">);</span>
  <span class="nx">frameRate</span><span class="p">(</span><span class="mi">30</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">void</span> <span class="nx">draw</span><span class="p">(){</span>
  <span class="nx">background</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
  <span class="nx">stroke</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
  <span class="k">for</span><span class="p">(</span><span class="kr">int</span> <span class="nx">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">y</span> <span class="o">&lt;</span> <span class="nx">p</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">y</span><span class="o">++</span><span class="p">){</span>
  <span class="k">for</span><span class="p">(</span><span class="kr">int</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">x</span> <span class="o">&lt;</span> <span class="nx">p</span><span class="p">[</span><span class="nx">y</span><span class="p">].</span><span class="nx">length</span><span class="p">;</span> <span class="nx">x</span><span class="o">++</span><span class="p">){</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">p</span><span class="p">[</span><span class="nx">y</span><span class="p">][</span><span class="nx">x</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">){</span>
      <span class="nx">fill</span><span class="p">(</span><span class="mi">96</span><span class="p">,</span> <span class="mi">96</span><span class="p">,</span> <span class="mi">96</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">p</span><span class="p">[</span><span class="nx">y</span><span class="p">][</span><span class="nx">x</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">){</span>
      <span class="nx">fill</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">ellipseMode</span><span class="p">(</span><span class="nx">CORNER</span><span class="p">);</span>
    <span class="nx">ellipse</span><span class="p">(</span><span class="nx">x</span><span class="o">*</span><span class="mi">10</span><span class="p">,</span> <span class="nx">y</span><span class="o">*</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
  <span class="p">}}</span>
<span class="p">}</span>
<span class="o">&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span></code></pre><pre class="highlight java"><code><span class="kt">int</span><span class="o">[][]</span> <span class="n">p</span> <span class="o">=</span> <span class="o">{</span>
  <span class="o">{</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">},</span>
  <span class="o">{</span><span class="mi">0</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">},</span>
  <span class="o">{</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">},</span>
  <span class="o">{</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">},</span>
  <span class="o">{</span><span class="mi">0</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">0</span><span class="o">},</span>
  <span class="o">{</span><span class="mi">1</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">0</span><span class="o">},</span>
  <span class="o">{</span><span class="mi">0</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">},</span>
  <span class="o">{</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">}</span>
<span class="o">};</span>
<span class="kt">void</span> <span class="nf">setup</span><span class="p">(</span><span class="o">){</span>
  <span class="n">size</span><span class="o">(</span><span class="mi">81</span><span class="o">,</span> <span class="mi">81</span><span class="o">);</span>
  <span class="n">frameRate</span><span class="o">(</span><span class="mi">30</span><span class="o">);</span>
<span class="o">}</span>
<span class="kt">void</span> <span class="nf">draw</span><span class="p">(</span><span class="o">){</span>
  <span class="n">background</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
  <span class="n">stroke</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
  <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">p</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">y</span><span class="o">++){</span>
  <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">p</span><span class="o">[</span><span class="n">y</span><span class="o">].</span><span class="na">length</span><span class="o">;</span> <span class="n">x</span><span class="o">++){</span>
    <span class="k">if</span><span class="o">(</span><span class="n">p</span><span class="o">[</span><span class="n">y</span><span class="o">][</span><span class="n">x</span><span class="o">]</span> <span class="o">==</span> <span class="mi">0</span><span class="o">){</span>
      <span class="n">fill</span><span class="o">(</span><span class="mi">96</span><span class="o">,</span> <span class="mi">96</span><span class="o">,</span> <span class="mi">96</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">p</span><span class="o">[</span><span class="n">y</span><span class="o">][</span><span class="n">x</span><span class="o">]</span> <span class="o">==</span> <span class="mi">1</span><span class="o">){</span>
      <span class="n">fill</span><span class="o">(</span><span class="mi">255</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="n">ellipseMode</span><span class="o">(</span><span class="n">CORNER</span><span class="o">);</span>
    <span class="n">ellipse</span><span class="o">(</span><span class="n">x</span><span class="o">*</span><span class="mi">10</span><span class="o">,</span> <span class="n">y</span><span class="o">*</span><span class="mi">10</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="mi">10</span><span class="o">);</span>
  <span class="o">}}</span>
<span class="o">}</span>
</code></pre><p>jsdoitにも投稿してあります。 <a title="Processing.js 8x8 ドットマトリックスLEDっぽいのつくってみた" href="//jsdo.it/funnythingz/uhNO">Processing.js 8x8 ドットマトリックスLEDっぽいのつくってみた</a><script src="//jsdo.it/blogparts/uhNO/js?view=design"></script><p class="ttlBpJsdoit" style="width: 465px; margin: 0; text-align: right; font-size: 11px;"><a title="Processing.js 8x8 ドットマトリックスLEDっぽいのつくってみた - jsdo.it - share JavaScript, HTML5 and CSS" href="//jsdo.it/funnythingz/uhNO">Processing.js 8x8 ドットマトリックスLEDっぽいのつくってみた - jsdo.it - share JavaScript, HTML5 and CSS</a></p></p><p>描画するだけだったら簡単だけど、x軸に対して1ドットずつ横に流してアニメーションさせたいなーと。 アニメーションできたらまたうｐしますん。</p></article><article class="entry"><h2><a href="/archives/876.html">WordpressにProcessingJSプラグインを導入してみた。</a></h2><ul><li class="date"> 2012.01.05 </li></ul><ul class="external-link"><li><a href="//b.hatena.ne.jp/entry/http://hiropo.co.uk/archives/876.html" class="hatena-bookmark-button" data-hatena-bookmark-title="WordpressにProcessingJSプラグインを導入してみた。" data-hatena-bookmark-layout="standard-balloon" data-hatena-bookmark-lang="ja" title="このエントリーをはてなブックマークに追加"><img src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;"/></a><script src="https://b.st-hatena.com/js/bookmark_button.js" charset="utf-8" async="async"></script></li><li><div class="fb-like" data-href="//hiropo.co.uk/archives/876.html" data-layout="button_count" data-action="like" data-show-faces="false" data-share="true"></div><div id="fb-root"></div><script>(function(d, s, id) {
          var js, fjs = d.getElementsByTagName(s)[0];
          if (d.getElementById(id)) return;
          js = d.createElement(s); js.id = id;
          js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&appId=1386417958332605&version=v2.0";
          fjs.parentNode.insertBefore(js, fjs);
          }(document, 'script', 'facebook-jssdk'));</script></li><li><a class="twitter-share-button" href="https://twitter.com/share" data-url="http://hiropo.co.uk/archives/876.html" data-via="funnythingz" data-text="WordpressにProcessingJSプラグインを導入してみた。"> Tweet </a><script>
        window.twttr=(function(d,s,id){var t,js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return}js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);return window.twttr||(t={_e:[],ready:function(f){t._e.push(f)}})}(document,"script","twitter-wjs"));
        </script></li></ul><p>最近がっつりProcessingにはまってます。Processing、かわいいよ、Processing。</p><p>そこでProcessingで書いたソースをぺたぺたブログにもはってたのですが、実際に動いてるものをどうにか簡単にはれないかと思い探してみました。</p><p>Processing JS WordPress Plugin <a title="http://www.keyvan.net/code/processing-js/" href="//www.keyvan.net/code/processing-js/">http://www.keyvan.net/code/processing-js/</a></p><p>意図も簡単に見つけてしまったので早速導入してみました。</p><pre class="highlight javascript"><code><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"application/processing"</span><span class="o">&gt;</span>
<span class="c1">//Info: http://processingjs.org/reference</span>
<span class="k">void</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">size</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">160</span><span class="p">);</span>
    <span class="nx">frameRate</span><span class="p">(</span><span class="mi">15</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">void</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
        <span class="kr">int</span> <span class="nx">s</span> <span class="o">=</span> <span class="nx">random</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
    <span class="nx">background</span><span class="p">(</span><span class="err">#</span><span class="nx">ffffff</span><span class="p">);</span>
        <span class="nx">stroke</span><span class="p">(</span><span class="nx">random</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span> <span class="nx">random</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span> <span class="nx">random</span><span class="p">(</span><span class="mi">255</span><span class="p">));</span>
    <span class="nx">ellipse</span><span class="p">(</span><span class="nx">random</span><span class="p">(</span><span class="nx">width</span><span class="p">),</span> <span class="nx">random</span><span class="p">(</span><span class="nx">height</span><span class="p">),</span> <span class="nx">s</span><span class="p">,</span> <span class="nx">s</span><span class="p">);</span>
<span class="p">}</span>
<span class="o">&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span></code></pre><pre class="highlight java"><code><span class="kt">void</span> <span class="nf">setup</span><span class="p">(</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">size</span><span class="o">(</span><span class="mi">400</span><span class="o">,</span> <span class="mi">160</span><span class="o">);</span>
    <span class="n">frameRate</span><span class="o">(</span><span class="mi">15</span><span class="o">);</span>
<span class="o">}</span>
<span class="kt">void</span> <span class="nf">draw</span><span class="p">(</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">s</span> <span class="o">=</span> <span class="n">random</span><span class="o">(</span><span class="mi">100</span><span class="o">);</span>
    <span class="n">background</span><span class="o">(</span><span class="err">#</span><span class="n">ffffff</span><span class="o">);</span>
    <span class="n">stroke</span><span class="o">(</span><span class="n">random</span><span class="o">(</span><span class="mi">255</span><span class="o">),</span> <span class="n">random</span><span class="o">(</span><span class="mi">255</span><span class="o">),</span> <span class="n">random</span><span class="o">(</span><span class="mi">255</span><span class="o">));</span>
    <span class="n">ellipse</span><span class="o">(</span><span class="n">random</span><span class="o">(</span><span class="n">width</span><span class="o">),</span> <span class="n">random</span><span class="o">(</span><span class="n">height</span><span class="o">),</span> <span class="n">s</span><span class="o">,</span> <span class="n">s</span><span class="o">);</span>
<span class="o">}</span>
</code></pre><p>良い感じに動いたー！すてきー！</p></article><article class="entry"><h2><a href="/archives/871.html">JavaScriptで桃鉄っぽいもの作り始めてみた #jsdoit</a></h2><ul><li class="date"> 2011.12.29 </li></ul><ul class="external-link"><li><a href="//b.hatena.ne.jp/entry/http://hiropo.co.uk/archives/871.html" class="hatena-bookmark-button" data-hatena-bookmark-title="JavaScriptで桃鉄っぽいもの作り始めてみた #jsdoit" data-hatena-bookmark-layout="standard-balloon" data-hatena-bookmark-lang="ja" title="このエントリーをはてなブックマークに追加"><img src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;"/></a><script src="https://b.st-hatena.com/js/bookmark_button.js" charset="utf-8" async="async"></script></li><li><div class="fb-like" data-href="//hiropo.co.uk/archives/871.html" data-layout="button_count" data-action="like" data-show-faces="false" data-share="true"></div><div id="fb-root"></div><script>(function(d, s, id) {
          var js, fjs = d.getElementsByTagName(s)[0];
          if (d.getElementById(id)) return;
          js = d.createElement(s); js.id = id;
          js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&appId=1386417958332605&version=v2.0";
          fjs.parentNode.insertBefore(js, fjs);
          }(document, 'script', 'facebook-jssdk'));</script></li><li><a class="twitter-share-button" href="https://twitter.com/share" data-url="http://hiropo.co.uk/archives/871.html" data-via="funnythingz" data-text="JavaScriptで桃鉄っぽいもの作り始めてみた #jsdoit"> Tweet </a><script>
        window.twttr=(function(d,s,id){var t,js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return}js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);return window.twttr||(t={_e:[],ready:function(f){t._e.push(f)}})}(document,"script","twitter-wjs"));
        </script></li></ul><p>おひさしぶりこです。 最近はProcessingばかりやってました。久しぶりにJavaScriptで何かつくろうと思ったので以前からつくりたかった桃鉄っぽいものつくってみました。</p><h3>仕組み</h3><ul><li>2次元配列でマップ作成。</li><li>とりあえずコマをマップ上で動かしてみる。</li></ul><p>あたり判定用と見た目用で配列分けようかとも思いましたが、特に必要ないかなと思い配列マップは1つにまとめました。</p><p>ソースはこちらです。 <script src="//jsdo.it/blogparts/gawo/js"></script><p class="ttlBpJsdoit" style="width: 465px; margin: 0; text-align: right; font-size: 11px;"><a title="桃鉄っぽいもの。 - jsdo.it - share JavaScript, HTML5 and CSS" href="//jsdo.it/funnythingz/gawo">桃鉄っぽいもの。 - jsdo.it - share JavaScript, HTML5 and CSS</a></p></p><p>まだマップは未完成ですが、できたものがこちら。 <script src="//jsdo.it/blogparts/gawo/js?view=design"></script><p class="ttlBpJsdoit" style="width: 465px; margin: 0; text-align: right; font-size: 11px;"><a title="桃鉄っぽいもの。 - jsdo.it - share JavaScript, HTML5 and CSS" href="//jsdo.it/funnythingz/gawo">桃鉄っぽいもの。 - jsdo.it - share JavaScript, HTML5 and CSS</a></p></p><p>jsdo.it で全部完成できたらいいね！</p></article><article class="entry"><h2><a href="/archives/868.html">JavaScriptのクロージャーでFizzBuzzやってみた</a></h2><ul><li class="date"> 2011.12.03 </li></ul><ul class="external-link"><li><a href="//b.hatena.ne.jp/entry/http://hiropo.co.uk/archives/868.html" class="hatena-bookmark-button" data-hatena-bookmark-title="JavaScriptのクロージャーでFizzBuzzやってみた" data-hatena-bookmark-layout="standard-balloon" data-hatena-bookmark-lang="ja" title="このエントリーをはてなブックマークに追加"><img src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;"/></a><script src="https://b.st-hatena.com/js/bookmark_button.js" charset="utf-8" async="async"></script></li><li><div class="fb-like" data-href="//hiropo.co.uk/archives/868.html" data-layout="button_count" data-action="like" data-show-faces="false" data-share="true"></div><div id="fb-root"></div><script>(function(d, s, id) {
          var js, fjs = d.getElementsByTagName(s)[0];
          if (d.getElementById(id)) return;
          js = d.createElement(s); js.id = id;
          js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&appId=1386417958332605&version=v2.0";
          fjs.parentNode.insertBefore(js, fjs);
          }(document, 'script', 'facebook-jssdk'));</script></li><li><a class="twitter-share-button" href="https://twitter.com/share" data-url="http://hiropo.co.uk/archives/868.html" data-via="funnythingz" data-text="JavaScriptのクロージャーでFizzBuzzやってみた"> Tweet </a><script>
        window.twttr=(function(d,s,id){var t,js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return}js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);return window.twttr||(t={_e:[],ready:function(f){t._e.push(f)}})}(document,"script","twitter-wjs"));
        </script></li></ul><p>こんぬちは、私です。</p><p>日常でちょこちょこプログラムは書きますが、脳みそが全然追いついていないため、トレーニングとして基本的なFizzBuzzに挑戦してみました。</p><p>言語はいつものJavaScript。 あと最近（今さら）覚えたクロージャーを使って書いてみました。</p><pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">rtn</span> <span class="o">=</span> <span class="s2">""</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">fizzBuzz</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">fizz</span><span class="p">,</span> <span class="nx">buzz</span><span class="p">,</span> <span class="nx">max</span><span class="p">){</span>
    <span class="k">return</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="nx">max</span><span class="o">++</span><span class="p">;</span>
        <span class="k">if</span><span class="p">(</span> <span class="p">(</span><span class="nx">max</span> <span class="o">%</span> <span class="nx">fizz</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">max</span> <span class="o">%</span> <span class="nx">buzz</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">){</span>
            <span class="k">return</span> <span class="s2">"FizzBuzz"</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span><span class="p">{</span>
            <span class="k">if</span><span class="p">(</span> <span class="nx">max</span> <span class="o">%</span> <span class="nx">fizz</span> <span class="o">===</span> <span class="mi">0</span> <span class="p">){</span>
                <span class="k">return</span> <span class="s2">"Fizz"</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span><span class="p">(</span> <span class="nx">max</span> <span class="o">%</span> <span class="nx">buzz</span> <span class="o">===</span> <span class="mi">0</span> <span class="p">){</span>
                <span class="k">return</span> <span class="s2">"Buzz"</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="p">{</span>
                <span class="k">return</span> <span class="nx">max</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">FizzBuzz</span> <span class="o">=</span> <span class="nx">fizzBuzz</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">while</span><span class="p">(</span><span class="nx">n</span> <span class="o">&lt;</span> <span class="mi">20</span><span class="p">){</span>
    <span class="nx">rtn</span> <span class="o">+=</span> <span class="nx">FizzBuzz</span><span class="p">()</span> <span class="o">+</span> <span class="s2">"\n"</span><span class="p">;</span>
    <span class="nx">n</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">rtn</span><span class="p">);</span>
</code></pre><p>実際やってみたもの <iframe style="width: 100%; height: 300px" src="//jsfiddle.net/funnythingz/682W3/15/embedded/" allowfullscreen="allowfullscreen" frameborder="0"></iframe></p><p>10分くらいでできてしまった…。 簡単だったけど面白かった。</p></article><article class="entry"><h2><a href="/archives/866.html">田代砲的なもの（DOSアタックで耐久テスト）</a></h2><ul><li class="date"> 2011.11.30 </li></ul><ul class="external-link"><li><a href="//b.hatena.ne.jp/entry/http://hiropo.co.uk/archives/866.html" class="hatena-bookmark-button" data-hatena-bookmark-title="田代砲的なもの（DOSアタックで耐久テスト）" data-hatena-bookmark-layout="standard-balloon" data-hatena-bookmark-lang="ja" title="このエントリーをはてなブックマークに追加"><img src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;"/></a><script src="https://b.st-hatena.com/js/bookmark_button.js" charset="utf-8" async="async"></script></li><li><div class="fb-like" data-href="//hiropo.co.uk/archives/866.html" data-layout="button_count" data-action="like" data-show-faces="false" data-share="true"></div><div id="fb-root"></div><script>(function(d, s, id) {
          var js, fjs = d.getElementsByTagName(s)[0];
          if (d.getElementById(id)) return;
          js = d.createElement(s); js.id = id;
          js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&appId=1386417958332605&version=v2.0";
          fjs.parentNode.insertBefore(js, fjs);
          }(document, 'script', 'facebook-jssdk'));</script></li><li><a class="twitter-share-button" href="https://twitter.com/share" data-url="http://hiropo.co.uk/archives/866.html" data-via="funnythingz" data-text="田代砲的なもの（DOSアタックで耐久テスト）"> Tweet </a><script>
        window.twttr=(function(d,s,id){var t,js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return}js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);return window.twttr||(t={_e:[],ready:function(f){t._e.push(f)}})}(document,"script","twitter-wjs"));
        </script></li></ul><p>たまにサイトの耐久テストをやったりするので、2ちゃんねるで有名な田代砲的な（ＤＯＳアタック）ものをブックマークレット用につくってみました。</p><pre class="highlight javascript"><code><span class="nx">javascript</span><span class="err">:</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span> <span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">dd</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span> <span class="nx">dd</span><span class="p">.</span><span class="nx">getUTCHours</span><span class="p">()</span> <span class="o">+</span> <span class="s2">":"</span> <span class="o">+</span> <span class="nx">dd</span><span class="p">.</span><span class="nx">getUTCMinutes</span><span class="p">()</span> <span class="o">+</span> <span class="s2">":"</span> <span class="o">+</span> <span class="nx">dd</span><span class="p">.</span><span class="nx">getUTCSeconds</span><span class="p">()</span> <span class="p">);</span> <span class="nx">location</span><span class="p">.</span><span class="nx">reload</span><span class="p">()},</span> <span class="mi">5000</span><span class="p">)</span> <span class="p">})();</span>
</code></pre><p>これをブックマークレットに登録して使うと、無限リロードしまくります。 （※良い子は悪用しちゃダメだよ！）</p><p>ちなみにChromeなどではある程度実行すると悪意のあるスクリプト（？）とみなされて停止して動かなくなったり・・・。</p><p>そんなメモでした。</p></article><article class="entry"><h2><a href="/archives/850.html">ProcessingのVideoライブラリを試してみた</a></h2><ul><li class="date"> 2011.11.30 </li></ul><ul class="external-link"><li><a href="//b.hatena.ne.jp/entry/http://hiropo.co.uk/archives/850.html" class="hatena-bookmark-button" data-hatena-bookmark-title="ProcessingのVideoライブラリを試してみた" data-hatena-bookmark-layout="standard-balloon" data-hatena-bookmark-lang="ja" title="このエントリーをはてなブックマークに追加"><img src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;"/></a><script src="https://b.st-hatena.com/js/bookmark_button.js" charset="utf-8" async="async"></script></li><li><div class="fb-like" data-href="//hiropo.co.uk/archives/850.html" data-layout="button_count" data-action="like" data-show-faces="false" data-share="true"></div><div id="fb-root"></div><script>(function(d, s, id) {
          var js, fjs = d.getElementsByTagName(s)[0];
          if (d.getElementById(id)) return;
          js = d.createElement(s); js.id = id;
          js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&appId=1386417958332605&version=v2.0";
          fjs.parentNode.insertBefore(js, fjs);
          }(document, 'script', 'facebook-jssdk'));</script></li><li><a class="twitter-share-button" href="https://twitter.com/share" data-url="http://hiropo.co.uk/archives/850.html" data-via="funnythingz" data-text="ProcessingのVideoライブラリを試してみた"> Tweet </a><script>
        window.twttr=(function(d,s,id){var t,js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return}js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);return window.twttr||(t={_e:[],ready:function(f){t._e.push(f)}})}(document,"script","twitter-wjs"));
        </script></li></ul><p>Processingネタを1年以上振りに書きます。 もうほとんど触ってもいませんでしたProcessing。 そんなProcessingちゃんを久しぶりにちょこっと書いてみました。</p><p>Processingの拡張ライブラリでVideoライブラリがあります。 Macの場合、モニタの上部分についてるあのカメラを使ってProcessingにキャプチャ画像を取り込むことができるのです。</p><p>まずはカメラを使う準備から。 下記のソースコードでカメラから取り込んだキャプチャをProcessingに渡します。</p><pre class="highlight java"><code><span class="kn">import</span> <span class="nn">processing.video.*</span><span class="o">;</span>

<span class="n">Capture</span> <span class="n">cam</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="p">(</span><span class="o">){</span>
  <span class="n">size</span><span class="o">(</span><span class="mi">420</span><span class="o">,</span> <span class="mi">320</span><span class="o">);</span>
  <span class="n">cam</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Capture</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">width</span><span class="o">,</span> <span class="n">height</span><span class="o">,</span> <span class="mi">15</span><span class="o">);</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">captureEvent</span><span class="p">(</span><span class="n">Capture</span> <span class="n">cam</span><span class="o">){</span>
  <span class="n">cam</span><span class="o">.</span><span class="na">read</span><span class="o">();</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">draw</span><span class="p">(</span><span class="o">){</span>
  <span class="n">image</span><span class="o">(</span><span class="n">cam</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
<span class="o">}</span>
</code></pre><p>そしたらピクセル解析の準備をします。 loadPixels()をセットすることで、pixels[]にピクセルデータを渡します。</p><pre class="highlight java"><code><span class="kt">void</span> <span class="nf">draw</span><span class="p">(</span><span class="o">){</span>
  <span class="n">image</span><span class="o">(</span><span class="n">cam</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
  <span class="n">loadPixels</span><span class="o">();</span>  <span class="c1">//ディスプレイウィンドウへピクセルデータをロードします。</span>
<span class="o">}</span>
</code></pre><p>ここからはキャプチャを加工するための関数を定義して読み出します。</p><h3>rect版モザイク</h3><p><a href="/imgs/archives/2011/11/ca49c20ec8023714493c1e9be7a17703.png"><img src="/imgs/archives/2011/11/ca49c20ec8023714493c1e9be7a17703.png" alt="" title="スクリーンショット 2011-11-29 23.27.21" width="420" height="321" class="alignnone size-full wp-image-853"/></a></p><pre class="highlight java"><code><span class="kn">import</span> <span class="nn">processing.video.*</span><span class="o">;</span>

<span class="n">Capture</span> <span class="n">cam</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="p">(</span><span class="o">){</span>
  <span class="n">size</span><span class="o">(</span><span class="mi">420</span><span class="o">,</span> <span class="mi">320</span><span class="o">);</span>
  <span class="n">cam</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Capture</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">width</span><span class="o">,</span> <span class="n">height</span><span class="o">,</span> <span class="mi">15</span><span class="o">);</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">captureEvent</span><span class="p">(</span><span class="n">Capture</span> <span class="n">cam</span><span class="o">){</span>
  <span class="n">cam</span><span class="o">.</span><span class="na">read</span><span class="o">();</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">draw</span><span class="p">(</span><span class="o">){</span>
  <span class="n">image</span><span class="o">(</span><span class="n">cam</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
  <span class="n">loadPixels</span><span class="o">();</span>
  <span class="n">mosaic</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span> <span class="mi">10</span><span class="o">);</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">mosaic</span><span class="p">(</span><span class="kt">int</span> <span class="n">w</span><span class="o">,</span> <span class="kt">int</span> <span class="n">h</span><span class="o">){</span>
  <span class="k">for</span><span class="o">(</span> <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">height</span><span class="o">;</span> <span class="n">y</span> <span class="o">+=</span> <span class="n">h</span> <span class="o">){</span>
  <span class="k">for</span><span class="o">(</span> <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">width</span><span class="o">;</span> <span class="n">x</span> <span class="o">+=</span> <span class="n">w</span> <span class="o">){</span>
    <span class="n">color</span> <span class="n">c</span> <span class="o">=</span> <span class="n">pixels</span><span class="o">[</span> <span class="n">y</span> <span class="o">*</span> <span class="n">width</span> <span class="o">+</span> <span class="n">x</span> <span class="o">];</span>
    <span class="n">fill</span><span class="o">(</span><span class="n">c</span><span class="o">);</span>
    <span class="n">rect</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">,</span> <span class="n">w</span><span class="o">,</span> <span class="n">h</span><span class="o">);</span>
  <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre><h3>ellipse版モザイク</h3><p><a href="/imgs/archives/2011/11/f68ac3e907b52df26b26a45fcb7db787.png"><img src="/imgs/archives/2011/11/f68ac3e907b52df26b26a45fcb7db787.png" alt="" title="スクリーンショット 2011-11-30 0.58.54" width="419" height="322" class="alignnone size-full wp-image-855"/></a></p><pre class="highlight java"><code><span class="kn">import</span> <span class="nn">processing.video.*</span><span class="o">;</span>

<span class="n">Capture</span> <span class="n">cam</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="p">(</span><span class="o">){</span>
  <span class="n">size</span><span class="o">(</span><span class="mi">420</span><span class="o">,</span> <span class="mi">320</span><span class="o">);</span>
  <span class="n">cam</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Capture</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">width</span><span class="o">,</span> <span class="n">height</span><span class="o">,</span> <span class="mi">15</span><span class="o">);</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">captureEvent</span><span class="p">(</span><span class="n">Capture</span> <span class="n">cam</span><span class="o">){</span>
  <span class="n">cam</span><span class="o">.</span><span class="na">read</span><span class="o">();</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">draw</span><span class="p">(</span><span class="o">){</span>
  <span class="n">image</span><span class="o">(</span><span class="n">cam</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
  <span class="n">loadPixels</span><span class="o">();</span>
  <span class="n">fillMosaic</span><span class="o">(</span><span class="n">cam</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="mi">10</span><span class="o">);</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">fillMosaic</span><span class="p">(</span><span class="n">PImage</span> <span class="n">img</span><span class="o">,</span> <span class="kt">int</span> <span class="n">w</span><span class="o">,</span> <span class="kt">int</span> <span class="n">h</span><span class="o">){</span>
  <span class="k">for</span><span class="o">(</span> <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">height</span><span class="o">;</span> <span class="n">y</span> <span class="o">+=</span> <span class="n">h</span> <span class="o">){</span>
  <span class="k">for</span><span class="o">(</span> <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">width</span><span class="o">;</span> <span class="n">x</span> <span class="o">+=</span> <span class="n">w</span> <span class="o">){</span>
    <span class="n">color</span> <span class="n">c</span> <span class="o">=</span> <span class="n">pixels</span><span class="o">[</span> <span class="n">y</span> <span class="o">*</span> <span class="n">width</span> <span class="o">+</span> <span class="n">x</span> <span class="o">];</span>
    <span class="n">fill</span><span class="o">(</span><span class="n">c</span><span class="o">);</span>
    <span class="n">ellipse</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">,</span> <span class="n">brightness</span><span class="o">(</span><span class="n">c</span><span class="o">)/</span><span class="mf">7.0</span><span class="o">,</span> <span class="n">brightness</span><span class="o">(</span><span class="n">c</span><span class="o">)/</span><span class="mf">7.0</span><span class="o">);</span>
  <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre><h3>斬新な何か</h3><p><a href="/imgs/archives/2011/11/6c3ad99e87ec9eb07ec8c82902354f8b.png"><img src="/imgs/archives/2011/11/6c3ad99e87ec9eb07ec8c82902354f8b.png" alt="" title="スクリーンショット 2011-11-30 2.00.50" width="418" height="322" class="alignnone size-full wp-image-857"/></a></p><pre class="highlight java"><code><span class="kn">import</span> <span class="nn">processing.video.*</span><span class="o">;</span>

<span class="n">Capture</span> <span class="n">cam</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="p">(</span><span class="o">){</span>
  <span class="n">size</span><span class="o">(</span><span class="mi">420</span><span class="o">,</span> <span class="mi">320</span><span class="o">);</span>
  <span class="n">cam</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Capture</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">width</span><span class="o">,</span> <span class="n">height</span><span class="o">,</span> <span class="mi">15</span><span class="o">);</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">captureEvent</span><span class="p">(</span><span class="n">Capture</span> <span class="n">cam</span><span class="o">){</span>
  <span class="n">cam</span><span class="o">.</span><span class="na">read</span><span class="o">();</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">draw</span><span class="p">(</span><span class="o">){</span>
  <span class="n">image</span><span class="o">(</span><span class="n">cam</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
  <span class="n">loadPixels</span><span class="o">();</span>
  <span class="n">fractalSolidMosaic</span><span class="o">(</span><span class="n">cam</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="mi">10</span><span class="o">);</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">fractalSolidMosaic</span><span class="p">(</span><span class="n">PImage</span> <span class="n">img</span><span class="o">,</span> <span class="kt">int</span> <span class="n">w</span><span class="o">,</span> <span class="kt">int</span> <span class="n">h</span><span class="o">){</span>
  <span class="k">for</span><span class="o">(</span> <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">height</span><span class="o">;</span> <span class="n">y</span> <span class="o">+=</span> <span class="n">h</span> <span class="o">){</span>
  <span class="k">for</span><span class="o">(</span> <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">width</span><span class="o">;</span> <span class="n">x</span> <span class="o">+=</span> <span class="n">w</span> <span class="o">){</span>
    <span class="n">color</span> <span class="n">c</span> <span class="o">=</span> <span class="n">pixels</span><span class="o">[</span> <span class="n">y</span> <span class="o">*</span> <span class="n">width</span> <span class="o">+</span> <span class="n">x</span> <span class="o">];</span>
    <span class="n">fill</span><span class="o">(</span><span class="n">c</span><span class="o">);</span>
    <span class="n">pushMatrix</span><span class="o">();</span>
    <span class="n">translate</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">);</span>
    <span class="n">rotate</span><span class="o">(</span><span class="n">brightness</span><span class="o">(</span><span class="n">c</span><span class="o">));</span>
    <span class="n">rect</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">brightness</span><span class="o">(</span><span class="n">c</span><span class="o">)/</span><span class="mf">2.0</span><span class="o">,</span> <span class="mi">2</span><span class="o">);</span>
    <span class="n">popMatrix</span><span class="o">();</span>
  <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre><p>実際に動かしてもらった方が面白いと思います。 次回はAR系に挑戦してみようと思います。</p><p>[参考記事】<a title="yoppa.org - Processingで画像データを扱う" href="//yoppa.org/proga10/1353.html">yoppa.org - Processingで画像データを扱う</a></p></article><article class="entry"><h2><a href="/archives/804.html">ルンバにルミカライトつけてバルブモードで軌跡を撮ってみた</a></h2><ul><li class="date"> 2011.11.04 </li></ul><ul class="external-link"><li><a href="//b.hatena.ne.jp/entry/http://hiropo.co.uk/archives/804.html" class="hatena-bookmark-button" data-hatena-bookmark-title="ルンバにルミカライトつけてバルブモードで軌跡を撮ってみた" data-hatena-bookmark-layout="standard-balloon" data-hatena-bookmark-lang="ja" title="このエントリーをはてなブックマークに追加"><img src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;"/></a><script src="https://b.st-hatena.com/js/bookmark_button.js" charset="utf-8" async="async"></script></li><li><div class="fb-like" data-href="//hiropo.co.uk/archives/804.html" data-layout="button_count" data-action="like" data-show-faces="false" data-share="true"></div><div id="fb-root"></div><script>(function(d, s, id) {
          var js, fjs = d.getElementsByTagName(s)[0];
          if (d.getElementById(id)) return;
          js = d.createElement(s); js.id = id;
          js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&appId=1386417958332605&version=v2.0";
          fjs.parentNode.insertBefore(js, fjs);
          }(document, 'script', 'facebook-jssdk'));</script></li><li><a class="twitter-share-button" href="https://twitter.com/share" data-url="http://hiropo.co.uk/archives/804.html" data-via="funnythingz" data-text="ルンバにルミカライトつけてバルブモードで軌跡を撮ってみた"> Tweet </a><script>
        window.twttr=(function(d,s,id){var t,js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return}js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);return window.twttr||(t={_e:[],ready:function(f){t._e.push(f)}})}(document,"script","twitter-wjs"));
        </script></li></ul><p><img src="/imgs/archives/2011/11/IMG_2602.jpg"/></p><p>ウチです。自宅です。リビングです。</p><p>前々からやってみたかったのがルンバの軌跡の撮影。 一眼レフでバルブモードにして長い間露光させておけばシャッターを押してから離すまでの部分を撮影できるのです。これを利用してルンバちゃんの軌跡を撮影してみました。</p><p><img src="/imgs/archives/2011/11/IMG_2593.jpg"/></p><p>まずはバルブモードで7分ほど撮影。ちょっと手ブレしちゃった…。</p><p><img src="/imgs/archives/2011/11/IMG_2611.jpg"/></p><p>まっすぐからのスポット掃除。</p><p><img src="/imgs/archives/2011/11/IMG_2589.jpg"/></p><p>どこ行っちゃうのかなー？</p><p><img src="/imgs/archives/2011/11/IMG_2608.jpg"/></p><p>スポットしすぎ。</p><p><img src="/imgs/archives/2011/11/IMG_2612.jpg"/></p><p>手動操作でいろいろ動かしてみた。</p><p>今回は動きを観察して撮影してみましたが、次はリモコンで操作してルンバで描いた写真を共有できたらなと思います。</p></article><article class="entry"><h2><a href="/archives/799.html">【追記あり】PHP5.3.8 をCentOS5系にソースからインストールする</a></h2><ul><li class="date"> 2011.10.27 </li></ul><ul class="external-link"><li><a href="//b.hatena.ne.jp/entry/http://hiropo.co.uk/archives/799.html" class="hatena-bookmark-button" data-hatena-bookmark-title="【追記あり】PHP5.3.8 をCentOS5系にソースからインストールする" data-hatena-bookmark-layout="standard-balloon" data-hatena-bookmark-lang="ja" title="このエントリーをはてなブックマークに追加"><img src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;"/></a><script src="https://b.st-hatena.com/js/bookmark_button.js" charset="utf-8" async="async"></script></li><li><div class="fb-like" data-href="//hiropo.co.uk/archives/799.html" data-layout="button_count" data-action="like" data-show-faces="false" data-share="true"></div><div id="fb-root"></div><script>(function(d, s, id) {
          var js, fjs = d.getElementsByTagName(s)[0];
          if (d.getElementById(id)) return;
          js = d.createElement(s); js.id = id;
          js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&appId=1386417958332605&version=v2.0";
          fjs.parentNode.insertBefore(js, fjs);
          }(document, 'script', 'facebook-jssdk'));</script></li><li><a class="twitter-share-button" href="https://twitter.com/share" data-url="http://hiropo.co.uk/archives/799.html" data-via="funnythingz" data-text="【追記あり】PHP5.3.8 をCentOS5系にソースからインストールする"> Tweet </a><script>
        window.twttr=(function(d,s,id){var t,js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return}js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);return window.twttr||(t={_e:[],ready:function(f){t._e.push(f)}})}(document,"script","twitter-wjs"));
        </script></li></ul><p>いまさらながらPHPのインストールでしくじることがあったのでメモ。</p><p>まずPHPをインストールする。</p><pre class="highlight shell"><code><span class="c"># wget http://jp.php.net/get/php-5.3.8.tar.gz/from/us.php.net/mirror</span>
<span class="c"># tar xvfz php-5.3.8.tar.gz</span>
<span class="c"># ./configure --enable-mbstring --with-apxs2 --with-mysql --with-gd --with-zlib --with-jpeg-dir --with-tsm-pthreads --enable-maintainer-zts --cache-file=../config.cache</span>
<span class="c"># make</span>
<span class="c"># make install</span>
<span class="c"># which php</span>
/usr/local/bin/php

<span class="c"># php -v</span>
PHP 5.3.8 <span class="o">(</span>cli<span class="o">)</span> <span class="o">(</span>built: Oct 27 2011 11:47:09<span class="o">)</span>
Copyright <span class="o">(</span>c<span class="o">)</span> 1997-2011 The PHP Group
Zend Engine v2.3.0, Copyright <span class="o">(</span>c<span class="o">)</span> 1998-2011 Zend Technologies
</code></pre><p>apacheとの連携</p><pre class="highlight shell"><code><span class="c"># vi /etc/httpd/conf/httpd.conf</span>
LoadModule php5_module        /usr/lib/httpd/modules/libphp5.so
DirectoryIndex index.html index.html.var index.php
AddType application/x-httpd-php .php

<span class="c"># /etc/rc.d/init.d/httpd configtest</span>
<span class="c"># /etc/rc.d/init.d/httpd restart</span>
</code></pre><p>正常にphpinfo()できればおｋ。</p><h3>【追記】</h3><p>64bit版の場合、./configureのオプションがちょっと変わります。 さくらVPSが64bit版だったっぽくちょっと悩みました。</p><p>オプションに &ldquo;&ndash;with-libdir=lib64&rdquo; を追加してください。</p><pre class="highlight shell"><code>./configure --enable-mbstring --with-apxs2 --with-mysql --with-gd --with-zlib --with-libdir<span class="o">=</span>lib64 --with-pear --with-gd --enable-maintainer-zts --cache-file<span class="o">=</span>../config.cache
</code></pre><h3>【追記2】</h3><p>Curlを使う場合。</p><pre class="highlight shell"><code>./configure --enable-mbstring --with-apxs2 --with-mysql --with-gd --with-zlib --with-libdir<span class="o">=</span>lib64 --with-pear --with-gd --with-curl --enable-sockets --enable-maintainer-zts --cache-file<span class="o">=</span>../config.cache
</code></pre></article><article class="entry"><h2><a href="/archives/784.html">【PaaS】fluxflexにRedmine（ベーシック認証付き）を構築してみた</a></h2><ul><li class="date"> 2011.10.15 </li></ul><ul class="external-link"><li><a href="//b.hatena.ne.jp/entry/http://hiropo.co.uk/archives/784.html" class="hatena-bookmark-button" data-hatena-bookmark-title="【PaaS】fluxflexにRedmine（ベーシック認証付き）を構築してみた" data-hatena-bookmark-layout="standard-balloon" data-hatena-bookmark-lang="ja" title="このエントリーをはてなブックマークに追加"><img src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;"/></a><script src="https://b.st-hatena.com/js/bookmark_button.js" charset="utf-8" async="async"></script></li><li><div class="fb-like" data-href="//hiropo.co.uk/archives/784.html" data-layout="button_count" data-action="like" data-show-faces="false" data-share="true"></div><div id="fb-root"></div><script>(function(d, s, id) {
          var js, fjs = d.getElementsByTagName(s)[0];
          if (d.getElementById(id)) return;
          js = d.createElement(s); js.id = id;
          js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&appId=1386417958332605&version=v2.0";
          fjs.parentNode.insertBefore(js, fjs);
          }(document, 'script', 'facebook-jssdk'));</script></li><li><a class="twitter-share-button" href="https://twitter.com/share" data-url="http://hiropo.co.uk/archives/784.html" data-via="funnythingz" data-text="【PaaS】fluxflexにRedmine（ベーシック認証付き）を構築してみた"> Tweet </a><script>
        window.twttr=(function(d,s,id){var t,js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return}js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);return window.twttr||(t={_e:[],ready:function(f){t._e.push(f)}})}(document,"script","twitter-wjs"));
        </script></li></ul><p>今話題のPaaSを片っ端からアカウントつくりまくって試しまくってたりするhirohiです。 学生の頃は自宅サーバのがカッコイイだろ！とか思い、自宅にしょぼいサーバたてて色々やっていましたが、メンテがもろもろだるいし、ドキュメント残さないから何をどう設定したかすぐわかんなくなるし（ドキュメントは残すべき。）ということで、VPSをレンタルしてそこでサーバを運用している今日この頃です。</p><p>…が、最近はすっかりPaaSで良いんじゃないかと思い色々試してみています。 だって無料だよ！個人レベルだったら十分な容量だよ！</p><p>さて、WkipediaによるとPaaSとは、</p><blockquote> PaaS（Platform as a Serviceの略、パースまたはパーズ）とは、インターネットを利用したコンピュータの新しい利用形態の1つである。PaaSでは、ソフトウェアを構築および稼動させるための土台となるプラットフォームを、インターネット経由のサービスとして提供する。開発者は、プラットフォーム上で構築したサービスを自分の顧客に提供することができる。 具体的には、インフラ、DBMS、ユーザーインターフェースなどのシステム開発手段となるツールや、開発したシステムを運用するための環境をインターネットを通じて「サービス」として提供し、月額使用料などの形で収入を得る事業モデルである。 </blockquote><p>とのこと。最近ではクラウド開発なんて言われてたり言われてなかったり。</p><p>とにかく、自分で開発サーバを構築する必要がなく、ある程度開発環境そろってるので、いきなりソースコードを書いて動かすことができる環境のことだと思っています。（あってる？） 有名どころでいくと、AWS Elastic Beanstalkや、Google App Engine、Herokuなど。</p><p>Rubyが好きなので自分もHerokuでRailsやらRedmineやらやってみよーと思いちょろちょろ触ってみたのですが、よくわからない部分が多かったので、Redmineをポチっとインストールできるfluxflexを使ってみることにします。</p><p>fluxflex <a title="http://www.fluxflex.com/" href="//www.fluxflex.com/">http://www.fluxflex.com/</a></p><p>アカウントを取得したらログインして、新規プロジェクトをつくります。 <a href="/imgs/archives/2011/10/834f11a22b2d440ff64c0161c479a7cf.png"><img src="/imgs/archives/2011/10/834f11a22b2d440ff64c0161c479a7cf.png" alt="" title="スクリーンショット 2011-10-15 0.17.00" width="353" height="185" class="alignnone size-full wp-image-786"/></a></p><p>プロジェクトを作ったら以下の手順でRedmineをポチッとインストールします。 <a href="/imgs/archives/2011/10/ab50a1a79ad25516bf49b3d9dcd037f11.png"><img src="/imgs/archives/2011/10/ab50a1a79ad25516bf49b3d9dcd037f11.png" alt="" title="スクリーンショット 2011-10-15 0.22.06" style="width: 700px;"/></a></p><p>インストール完了のダイアログが出たら、ブラウザでプロジェクトのURLにアクセスして確認します。Redmineが正常にインストールされていたら、とりあえずRedmineのパスワードだけは変更しちゃいましょう。</p><p>※デフォルトのID/PASSは、admin/adminになります。</p><p>Redmineのパスワードの変更が終わったら、ベーシック認証をかける準備をします。LinuxかMacOSXでターミナルを起動してください。 fluxflexはgitで更新やデプロイができるので、ターミナルからもろもろ操作します。</p><p>プロジェクトのリポジトリからgit cloneしてください。</p><pre class="highlight shell"><code><span class="gp">$ </span>git clone ssh://git@git.fluxflex.com:443/PROJETCT_NAME
</code></pre><p>ローカルリポジトリができたら、.htaccessを編集して、ベーシック認証が使えるようにします。</p><pre class="highlight shell"><code><span class="gp">$ </span><span class="nb">cd </span>PROJECT_NAME
<span class="gp">$ </span>vi public/.htaccess
AuthType Basic
AuthName <span class="s2">"Are you ready?"</span>
AuthUserFile /home/PROJECT_NAME/.htpasswd
AuthGroupFile /dev/null
require valid-user
</code></pre><p>次に.htpasswdを生成します。</p><pre class="highlight shell"><code><span class="gp">$ </span>htpasswd -mc .htpasswd userName
</code></pre><p>.htpasswd を生成したら、コミットして、デプロイします。</p><pre class="highlight shell"><code><span class="gp">$ </span>git add .htpasswd
<span class="gp">$ </span>git commit -a -m <span class="s2">"basic auth"</span>
<span class="gp">$ </span>git push
</code></pre><p>git push が成功したら、そのままデプロイされるので、しばらくしたらプロジェクトのURLにアクセスしてください。 ベーシック認証のログイン画面が出てきてログインできれば成功です。</p><p>SaaSのRedmineサービスとかもありますが、PaaSでここまで設定できればむしろこっちの方が安あがりかも！メンテはある程度必要ですけど。</p></article><ul class="pagenations"><li class="old-page"><a href="/page/5/">Old entry</a></li><li class="new-page"><a href="/page/3/">New entry</a></li></ul></section></section><aside class="aside"><div class="aside-wrapper"><section class="article-list"><h2>Recent Articles</h2><ol class="articles"><li><a href="/archives/988.html">goqueryでHTMLをパースする</a><small class="meta">2015.02.05</small></li><li><a href="/archives/987.html">インストールしたGoパッケージを最新にする</a><small class="meta">2015.02.04</small></li><li><a href="/archives/986.html">Golangでbluemondayを使ってhtml_safeなsanitizeをする</a><small class="meta">2015.01.25</small></li><li><a href="/archives/985.html">GolangでBlackfridayを使ってMarkdownをHTMLに変換する</a><small class="meta">2015.01.25</small></li><li><a href="/archives/984.html">RapberryPi B+ セットアップメモ</a><small class="meta">2014.12.01</small></li><li><a href="/archives/983.html">MacでGNU版のコマンドをhomebrewでインストールする</a><small class="meta">2014.11.19</small></li><li><a href="/archives/981.html">GitHub Pages Legacy IP Desprecation</a><small class="meta">2014.11.16</small></li><li><a href="/archives/980.html">Intel Edison 秋葉原の秋月電子通商で衝動買いレビュー</a><small class="meta">2014.11.16</small></li><li><a href="/archives/979.html">Meteorで簡単なWebサービスつくってみた</a><small class="meta">2014.09.01</small></li><li><a href="/archives/978.html">gomを使ってGoのパッケージをGemfileライクに管理して使う</a><small class="meta">2014.08.09</small></li></ol></section><section class="article-list"><h2>Tags</h2><ul class="tags"><li><a href="/tags/info.html">info</a> (6)</a></li><li><a href="/tags/x-html.html">(X)HTML</a> (8)</a></li><li><a href="/tags/css.html">CSS</a> (10)</a></li><li><a href="/tags/ajax.html">Ajax</a> (14)</a></li><li><a href="/tags/javascript.html">JavaScript</a> (50)</a></li><li><a href="/tags/untitle.html">untitle</a> (4)</a></li><li><a href="/tags/cms.html">CMS</a> (2)</a></li><li><a href="/tags/xoops.html">XOOPS</a> (1)</a></li><li><a href="/tags/tsurezure.html">TsureZure</a> (8)</a></li><li><a href="/tags/bug.html">bug</a> (3)</a></li><li><a href="/tags/wordpress.html">wordpress</a> (6)</a></li><li><a href="/tags/funny.html">funny</a> (2)</a></li><li><a href="/tags/apache.html">apache</a> (1)</a></li><li><a href="/tags/php.html">PHP</a> (13)</a></li><li><a href="/tags/fedoracore.html">FedoraCore</a> (7)</a></li><li><a href="/tags/mysql.html">MySQL</a> (1)</a></li><li><a href="/tags/proftpd.html">proftpd</a> (2)</a></li><li><a href="/tags/virtualpc.html">VirtualPC</a> (3)</a></li><li><a href="/tags/java.html">Java</a> (4)</a></li><li><a href="/tags/x-html-css.html">(X)HTML+CSS</a> (6)</a></li><li><a href="/tags/linux.html">Linux</a> (26)</a></li><li><a href="/tags/backtrack.html">backtrack</a> (3)</a></li><li><a href="/tags/crack.html">crack</a> (3)</a></li><li><a href="/tags/hack.html">hack</a> (4)</a></li><li><a href="/tags/centos.html">CentOS</a> (5)</a></li><li><a href="/tags/movabletype.html">MovableType</a> (1)</a></li><li><a href="/tags/actionscript3.html">ActionScript3</a> (4)</a></li><li><a href="/tags/flash.html">Flash</a> (9)</a></li><li><a href="/tags/fedora.html">Fedora</a> (2)</a></li><li><a href="/tags/aliases.html">aliases</a> (1)</a></li><li><a href="/tags/sendmail.html">sendmail</a> (3)</a></li><li><a href="/tags/eva.html">eva</a> (2)</a></li><li><a href="/tags/pear.html">pear</a> (2)</a></li><li><a href="/tags/adobe-air.html">Adobe AIR</a> (1)</a></li><li><a href="/tags/aptana.html">Aptana</a> (2)</a></li><li><a href="/tags/android.html">Android</a> (4)</a></li><li><a href="/tags/oop.html">OOP</a> (1)</a></li><li><a href="/tags/api.html">API</a> (2)</a></li><li><a href="/tags/bash.html">bash</a> (2)</a></li><li><a href="/tags/adobe.html">Adobe</a> (1)</a></li><li><a href="/tags/ruby.html">Ruby</a> (12)</a></li><li><a href="/tags/美人時計.html">美人時計</a> (8)</a></li><li><a href="/tags/web-service.html">web service</a> (2)</a></li><li><a href="/tags/twitter.html">twitter</a> (1)</a></li><li><a href="/tags/tripwire.html">Tripwire</a> (1)</a></li><li><a href="/tags/ipad.html">iPad</a> (5)</a></li><li><a href="/tags/iphone.html">iPhone</a> (5)</a></li><li><a href="/tags/macosx.html">MacOSX</a> (4)</a></li><li><a href="/tags/objective-c.html">Objective-C</a> (4)</a></li><li><a href="/tags/zsh.html">zsh</a> (2)</a></li><li><a href="/tags/c.html">C</a> (1)</a></li><li><a href="/tags/spamassassin.html">Spamassassin</a> (1)</a></li><li><a href="/tags/xcode.html">Xcode</a> (1)</a></li><li><a href="/tags/rsync.html">Rsync</a> (1)</a></li><li><a href="/tags/postgresql.html">PostgreSQL</a> (1)</a></li><li><a href="/tags/guruplug.html">GuruPlug</a> (1)</a></li><li><a href="/tags/arduino.html">Arduino</a> (1)</a></li><li><a href="/tags/processing.html">Processing</a> (7)</a></li><li><a href="/tags/smartphone.html">smartphone</a> (2)</a></li><li><a href="/tags/ruby-on-rails.html">Ruby on Rails</a> (5)</a></li><li><a href="/tags/kinect.html">kinect</a> (1)</a></li><li><a href="/tags/openframeworks.html">openFrameworks</a> (1)</a></li><li><a href="/tags/ms-dos.html">MS-DOS</a> (1)</a></li><li><a href="/tags/powershell.html">Powershell</a> (1)</a></li><li><a href="/tags/python.html">Python</a> (2)</a></li><li><a href="/tags/titanium.html">Titanium</a> (1)</a></li><li><a href="/tags/google-app-engine.html">Google App Engine</a> (1)</a></li><li><a href="/tags/html5.html">HTML5</a> (2)</a></li><li><a href="/tags/jquery.html">jQuery</a> (4)</a></li><li><a href="/tags/responsive.html">responsive</a> (1)</a></li><li><a href="/tags/imagemagick.html">ImageMagick</a> (1)</a></li><li><a href="/tags/paas.html">PaaS</a> (1)</a></li><li><a href="/tags/redmine.html">Redmine</a> (1)</a></li><li><a href="/tags/roomba.html">roomba</a> (1)</a></li><li><a href="/tags/canvas.html">canvas</a> (1)</a></li><li><a href="/tags/pavuk.html">pavuk</a> (1)</a></li><li><a href="/tags/wget.html">wget</a> (1)</a></li><li><a href="/tags/find.html">find</a> (1)</a></li><li><a href="/tags/xargs.html">xargs</a> (1)</a></li><li><a href="/tags/css3.html">CSS3</a> (1)</a></li><li><a href="/tags/coffeescript.html">CoffeeScript</a> (1)</a></li><li><a href="/tags/grunt.html">Grunt</a> (1)</a></li><li><a href="/tags/sass-compass.html">Sass/Compass</a> (1)</a></li><li><a href="/tags/typescript.html">TypeScript</a> (2)</a></li><li><a href="/tags/middleman.html">middleman</a> (1)</a></li><li><a href="/tags/cygwin.html">cygwin</a> (1)</a></li><li><a href="/tags/typescript.html">typescript</a> (1)</a></li><li><a href="/tags/リニューアル.html">リニューアル</a> (1)</a></li><li><a href="/tags/js.html">JS</a> (1)</a></li><li><a href="/tags/cabinjs.html">CabinJS</a> (1)</a></li><li><a href="/tags/git.html">Git</a> (1)</a></li><li><a href="/tags/sass.html">sass</a> (1)</a></li><li><a href="/tags/scss.html">scss</a> (1)</a></li><li><a href="/tags/rails.html">Rails</a> (1)</a></li><li><a href="/tags/compass.html">compass</a> (1)</a></li><li><a href="/tags/martini.html">martini</a> (1)</a></li><li><a href="/tags/go.html">Go</a> (5)</a></li><li><a href="/tags/golang.html">golang</a> (2)</a></li><li><a href="/tags/gom.html">gom</a> (1)</a></li><li><a href="/tags/go.html">GO</a> (1)</a></li><li><a href="/tags/meteor.html">meteor</a> (1)</a></li><li><a href="/tags/edison.html">Edison</a> (1)</a></li><li><a href="/tags/iot.html">IOT</a> (1)</a></li><li><a href="/tags/github.html">GitHub</a> (1)</a></li><li><a href="/tags/github-pages.html">GitHub Pages</a> (1)</a></li><li><a href="/tags/gnu.html">GNU</a> (1)</a></li><li><a href="/tags/coreutils.html">coreutils</a> (1)</a></li><li><a href="/tags/raspberrypi.html">RaspberryPi</a> (1)</a></li><li><a href="/tags/raspbian.html">raspbian</a> (1)</a></li><li><a href="/tags/linux.html">linux</a> (1)</a></li><li><a href="/tags/golang.html">Golang</a> (4)</a></li></ul></section><section class="article-list"><h2>By Year</h2><ul class="years"><li><a href="/2015.html">2015</a> (4)</a></li><li><a href="/2014.html">2014</a> (17)</a></li><li><a href="/2013.html">2013</a> (4)</a></li><li><a href="/2012.html">2012</a> (8)</a></li><li><a href="/2011.html">2011</a> (20)</a></li><li><a href="/2010.html">2010</a> (38)</a></li><li><a href="/2009.html">2009</a> (45)</a></li><li><a href="/2008.html">2008</a> (31)</a></li><li><a href="/2007.html">2007</a> (15)</a></li></ul></section></div></aside><footer class="footer"><p class="copyright">&copy; funnythingz</p></footer><script>
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-1882060-2']);
      _gaq.push(['_trackPageview']);
      (function() {
       var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
       ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
       var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
       })();
     </script></body></html>